{% load i18n static %}
<div class="box">
    <div class="is-flex is-align-items-center">
        <a href="{% url 'shop:spu-list' %}" 
            class="{% if is_active is None and not request.GET %} has-text-link has-text-weight-bold {% else %} has-text-grey-dark {% endif %}">
            <span class="icon is-small">
                <i class="mdi mdi-view-dashboard-outline"></i>
            </span>
            {% translate '全部商品' %}
        </a>
        {% for category in category_list %}
            <a href="{% url 'shop:category-spu-list' category.id %}?{{ filter_params }}" 
                class="px-3 {% if is_active == category.id or category.id == object.pid.id %} has-text-link has-text-weight-bold {% else %} has-text-grey-dark {% endif %}">
                {{ category.name }}
            </a>
        {% endfor %}
    </div>
    <hr class="my-2" />
    <div class="is-flex is-align-items-center mb-2">
        <span class="icon">
            <i class="mdi mdi-tag-multiple-outline"></i>
        </span>
        <span class="has-text-grey">{% translate '品牌' %}:</span>
        {% for brand in brand_list %}
        <a href="?brand_id={{ brand.id }}" 
            class="px-2 {% if brand_id == brand.id %} has-text-link has-text-weight-bold {% else %} has-text-grey-dark {% endif %}">
            {{ brand.name }}
        </a>
        {% endfor %}
    </div>
    <div class="is-flex is-align-items-center mb-2">
        <span class="icon">
            <i class="mdi mdi-shape-plus-outline"></i>
        </span>
        <span class="has-text-grey">{% translate '分类' %}:</span>
        {% for child in child_category_list %}
            <a href="{% url 'shop:category-spu-list' child.id %}?{{ filter_params }}" 
                class="px-2 {% if is_active == child.id %} has-text-link has-text-weight-bold {% else %} has-text-grey-dark {% endif %}">
                {{ child.name }}
            </a>
        {% endfor %}
    </div>
    <div class="is-flex is-align-items-center">
        <span class="icon">
            <i class="mdi mdi-sort"></i>
        </span>
        <span class="has-text-grey">{% translate '排序' %}:</span>
        {% if sort == 'price' %}
        <a href="?sort=-price&{{ filter_params }}" 
            class="px-2 {% if sort == 'price' %} has-text-link has-text-weight-bold {% else %} has-text-grey-dark {% endif %}">
            {% translate '价格' %}
            {% if sort == 'price' %}
            <span class="icon is-small">
                <i class="mdi mdi-sort-descending"></i>
            </span>
            {% endif %}
        </a>
        {% else %}
        <a href="?sort=price&{{ filter_params }}" 
            class="px-2 {% if sort == '-price' %} has-text-link has-text-weight-bold {% else %} has-text-grey-dark {% endif %}">
            {% translate '价格' %}
            {% if sort == '-price' %}
            <span class="icon is-small">
                <i class="mdi mdi-sort-ascending"></i>
            </span>
            {% endif %}
        </a>
        {% endif %}
        
        {% if sort == 'num' %}
        <a href="?sort=-num&{{ filter_params }}" 
            class="px-2 {% if sort == 'num' %} has-text-link has-text-weight-bold {% else %} has-text-grey-dark {% endif %}">
            {% translate '销量' %}
            {% if sort == 'num' %}
            <span class="icon is-small">
                <i class="mdi mdi-sort-descending"></i>
            </span>
            {% endif %}
        </a>
        {% else %}
        <a href="?sort=num&{{ filter_params }}" 
            class="px-2 {% if sort == '-num' %} has-text-link has-text-weight-bold {% else %} has-text-grey-dark {% endif %}">
            {% translate '销量' %}
            {% if sort == '-num' %}
            <span class="icon is-small">
                <i class="mdi mdi-sort-ascending"></i>
            </span>
            {% endif %}
        </a>
        {% endif %}

        {% if sort == 'create_time' %}
        <a href="?sort=-create_time&{{ filter_params }}" 
            class="px-2 {% if sort == 'create_time' %} has-text-link has-text-weight-bold {% else %} has-text-grey-dark {% endif %}">
            {% translate '上架时间' %}
            {% if sort == 'create_time' %}
            <span class="icon is-small">
                <i class="mdi mdi-sort-descending"></i>
            </span>
            {% endif %}
        </a>
        {% else %}
        <a href="?sort=create_time&{{ filter_params }}" 
            class="px-2 {% if sort == '-create_time' %} has-text-link has-text-weight-bold {% else %} has-text-grey-dark {% endif %}">
            {% translate '上架时间' %}
            {% if sort == '-create_time' %}
            <span class="icon is-small">
                <i class="mdi mdi-sort-ascending"></i>
            </span>
            {% endif %}
        </a>
        {% endif %}
    </div>
</div>